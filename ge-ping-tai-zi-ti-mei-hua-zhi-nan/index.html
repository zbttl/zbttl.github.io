<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/bao32x32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/bao16x16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"zbttl-github-io.vercel.app","root":"/","images":"/images","scheme":"Muse","version":"8.1.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="注意：本文成文时间跨度长，错误多，仅供参考。 相关软件可通过我的网盘下载到。">
<meta property="og:type" content="article">
<meta property="og:title" content="各平台字体美化指南">
<meta property="og:url" content="https://zbttl-github-io.vercel.app/ge-ping-tai-zi-ti-mei-hua-zhi-nan/index.html">
<meta property="og:site_name" content="Bao&#39;s 备忘录">
<meta property="og:description" content="注意：本文成文时间跨度长，错误多，仅供参考。 相关软件可通过我的网盘下载到。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/iP6wfl6.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/WHjzeiS.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Eftns0a.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/sSpv6Cr.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/FxL69ZL.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Qyxj6Yk.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/xdQJEl1.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/GJEgaG0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/XVQ8pEl.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/b2b0nuo.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210111190225.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110054145.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/oUQdOYv.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/NM7g1Ve.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/vmware_clemYxzBiN.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/vmware_JrGV3MT10A.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/vmware_saVNp23Rij.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/vmware_irlLMnwdsZ.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Windows%2010%20x64-2021-01-10-01-50-32.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Windows%2010%20x64-2021-01-10-01-44-24.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110055129.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110055310.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110055347.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110072521.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110094113.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110093415.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110064943.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110065036.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110065204.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/xMv3u8t.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/yAfx9w5.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/fi5yG27.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/1fusTBl.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/LXWklcA.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/AFy8MdB.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/QvAHerE.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/eqPKuTE.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/QE1PK4B.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/7scUUpC.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/traWPiH.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Kipnms9.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/JlWQTJ0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/rrUpaCN.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Af3fxGI.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/dS77IkI.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/%E6%9B%B4%E7%BA%B1%E9%BB%91%E4%BD%93%E6%99%AE%E9%80%9A%E7%89%88.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/%E6%9B%B4%E7%BA%B1%E9%BB%91%E4%BD%93nohint.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/%E6%96%B9%E6%AD%A3.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210309031345.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210309031557.png">
<meta property="article:published_time" content="2018-05-18T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-08T19:18:55.000Z">
<meta property="article:author" content="zbttl">
<meta property="article:tag" content="fonts">
<meta property="article:tag" content="chrome">
<meta property="article:tag" content="firefox">
<meta property="article:tag" content="mactype">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/iP6wfl6.png">


<link rel="canonical" href="https://zbttl-github-io.vercel.app/ge-ping-tai-zi-ti-mei-hua-zhi-nan/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>各平台字体美化指南 | Bao's 备忘录</title>
  



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Bao's 备忘录" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Bao's 备忘录</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">1.</span> <span class="nav-text">存在的问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%84%E5%B9%B3%E5%8F%B0%E5%AD%97%E4%BD%93%E9%83%BD%E5%AD%98%E5%9C%A8%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="nav-number">1.1.</span> <span class="nav-text">各平台字体都存在什么问题？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%A3%80%E6%B5%8B%EF%BC%9F"><span class="nav-number">1.2.</span> <span class="nav-text">如何检测？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E6%9D%A5%E8%AF%B4%EF%BC%9F"><span class="nav-number">1.3.</span> <span class="nav-text">具体来说？</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E5%8D%93"><span class="nav-number">1.3.1.</span> <span class="nav-text">安卓</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#linux"><span class="nav-number">1.3.2.</span> <span class="nav-text">linux</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#windows"><span class="nav-number">1.3.3.</span> <span class="nav-text">windows</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ios"><span class="nav-number">1.3.4.</span> <span class="nav-text">ios</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%82%A3%E4%B9%88%E5%BA%94%E8%AF%A5%E6%80%8E%E4%B9%88%E6%94%B9%E8%BF%9B%E5%91%A2%EF%BC%9F"><span class="nav-number">2.</span> <span class="nav-text">那么应该怎么改进呢？</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#andriod"><span class="nav-number">2.1.</span> <span class="nav-text">andriod</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linux-1"><span class="nav-number">2.2.</span> <span class="nav-text">linux</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#windows-1"><span class="nav-number">2.3.</span> <span class="nav-text">windows</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%A4%E7%A7%8D%E5%AD%97%E4%BD%93%E6%9B%BF%E6%8D%A2%E6%96%B9%E6%B3%95"><span class="nav-number">2.3.1.</span> <span class="nav-text">两种字体替换方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E-noMeiryoUI-%E5%92%8C-mactype-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">2.3.2.</span> <span class="nav-text">关于 noMeiryoUI 和 mactype 的区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E5%AD%97%E4%BD%93%E4%B8%8E%E6%B8%B2%E6%9F%93%E7%9A%84%E9%80%82%E9%85%8D%E6%80%A7%E9%97%AE%E9%A2%98"><span class="nav-number">2.3.3.</span> <span class="nav-text">关于字体与渲染的适配性问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mactype"><span class="nav-number">2.3.4.</span> <span class="nav-text">mactype</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#mactype-%E7%89%88%E6%9C%AC%E9%80%89%E6%8B%A9"><span class="nav-number">2.3.4.1.</span> <span class="nav-text">mactype 版本选择</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%98%AF%E5%90%A6%E8%A6%81%E7%94%A8%E6%97%A5%E6%9C%AC%E7%9A%84-mactype-%E8%A1%A5%E4%B8%81%EF%BC%9F"><span class="nav-number">2.3.4.2.</span> <span class="nav-text">是否要用日本的 mactype 补丁？</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E-runtime-%E5%BA%94%E7%94%A8%EF%BC%88%E6%88%96%E8%80%85%E7%A7%B0%E4%B8%BA-modern-%E5%BA%94%E7%94%A8%EF%BC%8C%E7%B1%BB%E4%BC%BC%E4%BA%8E%E5%BC%80%E5%A7%8B%E8%8F%9C%E5%8D%95%EF%BC%8C%E8%AE%BE%E7%BD%AE%E7%AD%89%EF%BC%89%E6%B2%A1%E6%9C%89%E6%AD%A3%E7%A1%AE%E6%B8%B2%E6%9F%93-%E6%9B%BF%E6%8D%A2%E5%AD%97%E4%BD%93%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">2.3.4.3.</span> <span class="nav-text">关于 runtime 应用（或者称为 modern 应用，类似于开始菜单，设置等）没有正确渲染 &#x2F; 替换字体的问题</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E5%AD%97%E4%BD%93"><span class="nav-number">2.3.4.4.</span> <span class="nav-text">关于字体</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88bug%EF%BC%89"><span class="nav-number">2.3.4.5.</span> <span class="nav-text">关于配置文件（bug）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%99%BD%E5%90%8D%E5%8D%95%E6%A8%A1%E5%BC%8F"><span class="nav-number">2.3.4.6.</span> <span class="nav-text">白名单模式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E9%85%8D%E7%BD%AE%E6%96%B9%E6%A1%88"><span class="nav-number">2.3.4.7.</span> <span class="nav-text">浏览器配置方案</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E5%B7%B2%E7%9F%A5-bug"><span class="nav-number">2.3.4.8.</span> <span class="nav-text">其他已知 bug</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E-1803-%E7%89%88%E6%9C%AC%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF"><span class="nav-number">2.3.4.9.</span> <span class="nav-text">关于 1803 版本推荐使用姿势</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%9B%AE%E5%89%8D%E6%9C%80%E6%96%B0%E7%89%88-mactype-%E7%9B%B4%E8%A3%85%E7%83%AD%E6%9B%BF%E6%8D%A2%E6%B3%A8%E5%86%8C%E8%A1%A8%E5%8A%A0%E8%BD%BD%E6%83%85%E5%86%B5%EF%BC%8819-9-22%EF%BC%89"><span class="nav-number">2.3.4.10.</span> <span class="nav-text">目前最新版 mactype 直装热替换注册表加载情况（19.9.22）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#21-1-11-2004-%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5%E6%9B%B4%E6%96%B0"><span class="nav-number">2.3.4.11.</span> <span class="nav-text">21.1.11 2004 使用情况更新</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%9E-mactype-%E6%96%B9%E6%B3%95"><span class="nav-number">2.3.5.</span> <span class="nav-text">非 mactype 方法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%87%A0%E7%A7%8D%E7%A1%AC%E6%9B%BF%E6%8D%A2%E6%96%B9%E6%B3%95-%EF%BC%8821-1-10-%E6%9B%B4%E6%96%B0%EF%BC%89"><span class="nav-number">2.3.5.1.</span> <span class="nav-text">几种硬替换方法 （21.1.10 更新）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%80%9A%E5%B8%B8%E7%94%A8%E4%BA%8E%E6%9B%BF%E6%8D%A2%E7%9A%84%E5%AD%97%E4%BD%93"><span class="nav-number">2.3.5.2.</span> <span class="nav-text">通常用于替换的字体</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E-GaspHack-%E8%A1%A5%E4%B8%81%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E5%92%8C%E6%95%88%E6%9E%9C"><span class="nav-number">2.3.5.3.</span> <span class="nav-text">关于 GaspHack 补丁使用方法和效果</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%EF%BC%8821-2-4-%E6%9B%B4%E6%96%B0%EF%BC%89%E6%9B%B4%E7%BA%B1%E9%BB%91%E4%BD%93-nohinted-%E7%89%88"><span class="nav-number">2.3.5.4.</span> <span class="nav-text">（21.2.4 更新）更纱黑体 nohinted 版</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%97%E4%BD%93%E6%9B%B4%E6%8D%A2"><span class="nav-number">2.3.5.5.</span> <span class="nav-text">关于浏览器字体更换</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E8%AE%BE%E7%BD%AE%EF%BC%9Achrome"><span class="nav-number">2.3.5.5.1.</span> <span class="nav-text">默认设置：chrome</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E8%AE%BE%E7%BD%AE%EF%BC%9Afirefox"><span class="nav-number">2.3.5.5.2.</span> <span class="nav-text">默认设置：firefox</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#css-%E5%BC%BA%E5%88%B6%E6%9B%BF%E6%8D%A2%EF%BC%88%E7%99%BD%E5%90%8D%E5%8D%95%EF%BC%89"><span class="nav-number">2.3.5.5.3.</span> <span class="nav-text">css 强制替换（白名单）</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#css-%E5%AD%97%E4%BD%93%E6%9B%BF%E6%8D%A2%EF%BC%88%E9%BB%91%E5%90%8D%E5%8D%95%EF%BC%89"><span class="nav-number">2.3.5.5.4.</span> <span class="nav-text">css 字体替换（黑名单）</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#css-%E5%AF%B9%E5%AD%97%E4%BD%93%E7%9A%84%E5%85%B6%E4%BB%96%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88"><span class="nav-number">2.3.5.5.5.</span> <span class="nav-text">css 对字体的其他美化方案</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E9%A1%B5%E9%9D%A2%E6%B1%87%E6%80%BB"><span class="nav-number">2.3.5.5.6.</span> <span class="nav-text">测试页面汇总</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%B8%AA%E4%BA%BA%E5%AD%97%E4%BD%93%E7%82%B9%E8%AF%84%EF%BC%88windows-chrome-%E4%B8%8B%E7%BB%93%E8%AE%BA%EF%BC%89"><span class="nav-number">2.3.5.5.7.</span> <span class="nav-text">个人字体点评（windows chrome 下结论）</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%EF%BC%8821-3-9%EF%BC%89%E4%B8%80%E4%BA%9B%E6%9C%AA%E8%A7%A3%E4%B9%8B%E8%B0%9C"><span class="nav-number">2.3.5.6.</span> <span class="nav-text">（21.3.9）一些未解之谜</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%AE%E5%89%8D%E6%88%91%E7%9A%84%E6%96%B9%E6%A1%88"><span class="nav-number">2.3.6.</span> <span class="nav-text">目前我的方案</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2020"><span class="nav-number">2.3.6.1.</span> <span class="nav-text">2020</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2021"><span class="nav-number">2.3.6.2.</span> <span class="nav-text">2021</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E5%9B%BD%E6%97%97-emoji"><span class="nav-number">3.</span> <span class="nav-text">关于国旗 emoji</span></a></li></ol></div>
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zbttl" src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">zbttl</p>
  <div class="site-description" itemprop="description">玩点好玩的</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">62</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">123</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/zbttl" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zbttl" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zbttls@gmail.com" title="E-Mail → mailto:zbttls@gmail.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i>RSS</a>
      </span>
  </div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zbttl-github-io.vercel.app/ge-ping-tai-zi-ti-mei-hua-zhi-nan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="zbttl">
      <meta itemprop="description" content="玩点好玩的">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bao's 备忘录">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          各平台字体美化指南
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-05-19 00:00:00" itemprop="dateCreated datePublished" datetime="2018-05-19T00:00:00+08:00">2018-05-19</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-03-09 03:18:55" itemprop="dateModified" datetime="2021-03-09T03:18:55+08:00">2021-03-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Windows/" itemprop="url" rel="index"><span itemprop="name">Windows</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/IOS/" itemprop="url" rel="index"><span itemprop="name">IOS</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>18k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>33 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>注意：本文成文时间跨度长，错误多，仅供参考。</p>
<p>相关软件可通过<a target="_blank" rel="external nofollow noopener noreferrer" href="https://1drv.ms/u/s!AoMoC9XTgpEsgpYF5k9TdBYxs1zx1A?e=OL9ZOK">我的网盘</a>下载到。</p>
<h2 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h2><h3 id="各平台字体都存在什么问题？"><a href="#各平台字体都存在什么问题？" class="headerlink" title="各平台字体都存在什么问题？"></a>各平台字体都存在什么问题？</h3><p>准确来说，有以下三大类问题：</p>
<ol>
<li>字库不全/字型不够美观</li>
<li>缺字重</li>
<li>渲染失真问题<h3 id="如何检测？"><a href="#如何检测？" class="headerlink" title="如何检测？"></a>如何检测？</h3></li>
<li>美观性肉眼应该就能识别。。。而字库全不全，找点大字库表看一下就知道了，比如安卓可以找酷安的某些帖子，下面这个就是：<a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.coolapk.com/feed/2276706?shareKey=YmJjYmU0NjBjMDVlNWNiNmI3ODQ~&amp;shareUid=421185&amp;shareFrom=com.coolapk.market_9.0.1">字体测试</a></li>
<li>看是不是缺字重的话，找以下两个网站：<ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://zonovo.sinaapp.com/design/robotosc.html">字体字重测试 · Font Weight Test</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://clagnut.com/sandbox/fontweight.html">Font-weight test case</a></li>
</ul>
</li>
<li>渲染问题就是肉眼来看了。。。一般渲染出问题，字体错位，失真，间隙较大，笔画重叠的问题，都是一眼就能看得出来的。<h3 id="具体来说？"><a href="#具体来说？" class="headerlink" title="具体来说？"></a>具体来说？</h3><h4 id="安卓"><a href="#安卓" class="headerlink" title="安卓"></a>安卓</h4>安卓的渲染一般问题不大，但是安卓 7.0 后默认字体思源黑体字库并不算太大（miui 的方正体我感觉更小），而字重上谷歌还偷懒了。。。。</li>
</ol>
<p>字库上：<br>只通过爱字体 + 华为预留接口更换了字体的 p9 在测试中显示如下：<br><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/iP6wfl6.png"><br>明显 nokia 特殊符号显示错误</p>
<p>而通过 substramtum 替换字体，结果又是这样的<br><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/WHjzeiS.png"><br>典型的字库不全</p>
<p>只有通过专用卡刷包（来自专门做字体的宁静之雨），刷出来的字体字库才差不多全了：<br><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Eftns0a.png"></p>
<p>字重上：<br>原版安卓字重：<br><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/sSpv6Cr.jpg"><br>这就是我们说安卓偷懒的地方：数字字重没问题，但是汉字字重却只有两个。</p>
<p>打过补丁的安卓字重：<br><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/FxL69ZL.png"><br>这就很明显，数字和汉字字重一致，起码有五个字重。</p>
<p>字重多和字重少实际浏览上的对比：<br><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Qyxj6Yk.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/xdQJEl1.png"><br>很明显，第一张图的汉字因为缺少粗体字重，直接回退到细一些的字重上了。</p>
<h4 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h4><p>linux 的问题主要出在渲染和字体不匹配上，特别是 centos7 下的默认字体，各种笔画错位间隔问题很严重。实际上，centos 生命周期内一共经历过几种渲染引擎，旧引擎，v38（之前美化界用的很多的 infinility） 和现在默认启用的 v40。v40 和 v38，孰优孰劣暂且不表，但是我感觉换个字体以后都差不多。。。</p>
<p>主要就是需要更换字体，尽管 linux 的渲染引擎也是基于 freetype 的，但是对 cleartype 字体以外的相性不错。</p>
<p>linux 原来的字体，字重和字库也不优秀，看以下两张图：<br><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/GJEgaG0.png"><br><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/XVQ8pEl.png"><br>第一张图明显缺字（左边一列都是框框）</p>
<p>第二张图只有 2 字重。</p>
<h4 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h4><p>号称对 pc 字体优化最多（我看很多 linux 和 mac 信徒都这么说）实际上确实戏最多的平台。。。</p>
<p>本身渲染就分为两种，GDI 和 modern，也就是传统应用和 uwp / 浏览器，分别对应 cleartype 渲染和 directwrite 渲染。其次因为照顾低分屏，所以效果字体本身 hint 过。上面两个因素造成：</p>
<ul>
<li>直接替换没有处理过的其他 freetype 字体，效果其实会变得很难看。关掉 cleartype 的话效果好一点，但是字体间隔就会变得很奇怪</li>
<li>原来字体本身的锯齿和边缘失真很严重</li>
<li>缩放算法问题？最常见的 1080p 下 125% 缩放会引发一系列问题。</li>
</ul>
<p>其实 windows 本身字重和字库也还算凑合，特别是最新更新后又增加了三种字重。</p>
<h4 id="ios"><a href="#ios" class="headerlink" title="ios"></a>ios</h4><p>ios 默认的字库，渲染，字重都相当优秀，唯一不方便的也许就是如果想自己替换自己想要的字体字型会相当麻烦吧。。。（需要越狱什么的）</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/b2b0nuo.png"></p>
<p>五字重，一点不虚。</p>
<h2 id="那么应该怎么改进呢？"><a href="#那么应该怎么改进呢？" class="headerlink" title="那么应该怎么改进呢？"></a>那么应该怎么改进呢？</h2><h3 id="andriod"><a href="#andriod" class="headerlink" title="andriod"></a>andriod</h3><p>单纯想要美化字型可以换字体，但那样字重和字库可能会变差。</p>
<p>其次是通过 substramtum 安装相应的字体更换 apk。但是字重问题仍然没有得到解决。</p>
<p>这时就推荐安装 magisk 上面的 notoCJK 模块，补充相应字重。notoCJK 有两个分支，一个标准一个 lite，有时候其中一个装不上换另一个就好了。不过一个模块大小在 180m（lite）-220m 左右，注意留好空间。</p>
<p>或者可以直接安装宁静之雨做好的 magisk 模块，字重和字型都有保证。而且大小也没有这么大。</p>
<p>（19.8.7 更新）另外关于宁静之雨 magisk 包和 notoCJK，其实还有一些不完美之处。目前查到的某些 bug 或疑似 bug 的地方有这些：</p>
<ol>
<li>notoCJK 刷入后，许多地方字形不正常（比如少数派文章），比如「门」，使用了日系字体。（个人猜测就是 notoCJK 中包含了所有东方语言的字形，但适配不过关，导致某些场合错误使用另一种语言的字形）</li>
<li>思源黑体的英文做了窄化处理，作者本人给的解释是故意的因为桌面图标的便签通常都因为太宽而显示不全，但是，窄体我感觉太丑了。。。</li>
<li>substramtum  中有一个 googlesan 字体，数字效果不错（特别是右上角的时钟），但这是个英文字体包，也就是说，没有中文字体上的修改。</li>
<li>KFhimaji 字形（q 版字体）不错，但没有多字重（或者说字重太少）。</li>
</ol>
<p>上述问题部分是有解决方法的，2 和 3 综合起来，可以先刷入思源黑体的包，再用 substramtum 启用 googlesan 字体，因为是英文字体，所以思源黑体过窄的问题解决了，googlesan 没有中文字形的问题也解决了。之前我使用的方案是 notoCJK + substramtum ，但 notoCJK 的字形问题仍未解决。而相对完美的字体，目前有筑紫系列字体等。</p>
<h3 id="linux-1"><a href="#linux-1" class="headerlink" title="linux"></a>linux</h3><p>换字体。常常会更换为微软雅黑，思源黑体或者文泉逸黑体。 </p>
<h3 id="windows-1"><a href="#windows-1" class="headerlink" title="windows"></a>windows</h3><p>最麻烦的一个。。。在 windows 下，不止要考虑字体的替换问题，还要考虑渲染问题。下面这些乱七八糟的内容，适配于 1080p 125% 缩放 24 寸屏，对于其他情况可能会有一些出入（比如高分屏下里面很多内容就变成了 p 话）。</p>
<h4 id="两种字体替换方法"><a href="#两种字体替换方法" class="headerlink" title="两种字体替换方法"></a>两种字体替换方法</h4><p>热替换：无需覆盖原有字体，只需要安装所需字体然后通过相应工具把原有字体替换显示为所需字体。无需重新启动，安全性高。常用的工具是 noMeiryoUI 和 mactype。</p>
<p>硬替换：将系统原有的字体直接替换掉。需要在系统不运行的情况下进行操作，可以在 pe 、recovery mode 中实施替换，或者使用相应工具：<a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.fishlee.net/soft/SysFontReplacer/#C-52">系统字体替换工具</a>。</p>
<h4 id="关于-noMeiryoUI-和-mactype-的区别"><a href="#关于-noMeiryoUI-和-mactype-的区别" class="headerlink" title="关于 noMeiryoUI 和 mactype 的区别"></a>关于 noMeiryoUI 和 mactype 的区别</h4><p>mactype 拥有热替换和渲染两个功能。而 noMeiryoUI  只拥有热替换功能，而且只能替换 windows 默认系统字体（即微软雅黑）。</p>
<p>但相对的 noMeiryoUI 不需要编辑复杂的配置文件。</p>
<p>在生效方式上，mactype 支持注册表加载、服务加载和托盘加载，决定了 mactype 能在系统启动前就完成加载，并<strong>有希望</strong>作用于 modern 应用，而 noMeiryoUI 就不行；不仅如此，noMeiryoUI 加载时间在桌面加载之后，所以刚启动以后桌面的字体会呈现为宋体，很难看，点一下或者刷新一下才会还原为 noMeiryoUI  指定的字体，特别是替换的字体并非为 windows 默认 cleartype 优化时（类似于思源黑体等）。</p>
<p>当然 mactype 也可以不使用本身的热替换功能，只使用本身的渲染功能，就可以可以搭配硬替换，甚至搭配 noMeiryoUI 的热替换使用（扭曲警告！）。但 mactype 的配置文件本身就是配套的，和其他软件的适配性当然就没有用自己本身的热替换功能高。but mactype 本身的生效方式决定着容易出 bug（比如 mactype <a href="#%E5%85%B3%E4%BA%8E%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88bug%EF%BC%89">配置文件</a>一节中的应用就不能使用 mactype 的热替换否则会乱码），所以和 noMeiryoUI 配套使用也不是一点优势都没有。</p>
<h4 id="关于字体与渲染的适配性问题"><a href="#关于字体与渲染的适配性问题" class="headerlink" title="关于字体与渲染的适配性问题"></a>关于字体与渲染的适配性问题</h4><p>windows 下默认渲染方法为 cleartype。在不改变渲染方法的情况下，最好使用为 cleartype 开发与优化过的字体。在下文<a href="#%E9%80%9A%E5%B8%B8%E7%94%A8%E4%BA%8E%E6%9B%BF%E6%8D%A2%E7%9A%84%E5%AD%97%E4%BD%93">非 mactype 方法的通常用于替换的字体一节</a>中，介绍了几个在 cleartype 下表现不错的字体。当然大家也可以自行使用 noMeiryoUI，未优化过的字体在 cleartype 下可能会出现锯齿、错位、笔画粘连等问题。另外，不要盲目使用硬替换去测试这些字体！很可能会出现缺字甚至是卡开机等严重问题。比如宋体，在系统里面是叫做 simsun.ttc，这个字体不能随意替换，如果用思源宋体直接改名替换的话。。。就会开机蓝屏，焊死车门。</p>
<p>通过 mactype 可以使用类 freetype 的渲染方式。mactype 通过合理的配置，既能美化 cleartype 下的字体，也能使苹方、思源黑体等 freetype 字体在 windows 下有较好的显示效果。但 mactype 的渲染也是个双刃剑，尤其是在没有合理的调整配置文件的情况下，容易造成字体排列错误，拥挤的问题。另外和热替换中两个软件在 modern 应用中表现不佳类似，mactype 在 modern 应用下也需要特殊配置才能生效；另外还有浏览器因为 directwrite 问题也没法直接生效（只换了字体，渲染上不去）。</p>
<p>当然还有人会问关闭 cleartype 呢？并不推荐。文字的间距又会变得非常诡异。</p>
<h4 id="mactype"><a href="#mactype" class="headerlink" title="mactype"></a>mactype</h4><p>mactype 的使用方法，我就不详细展开了，关键在于，选哪种版本，要不要打补丁？选那种字体？用哪种配置文件？</p>
<h5 id="mactype-版本选择"><a href="#mactype-版本选择" class="headerlink" title="mactype 版本选择"></a>mactype 版本选择</h5><ol>
<li>最新版 2017 版。无需任何操作使用后即可正常进入 windows 系统，但是 runtime 应用无法正常渲染，无论使用何种加载方式和何种补丁。</li>
<li><strong>（21.1.11 更新）</strong><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/snowie2000/mactype/releases/tag/2019.1-beta6">2019.1-beta6</a> + 日本补丁。推荐版本。</li>
<li>2016 09月版本，推荐版本。通过某些操作可以正常使用，转下方 <a href="#%E5%85%B3%E4%BA%8E-1803-%E7%89%88%E6%9C%AC%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF">1803 正确操作姿势</a>。</li>
<li>台湾人修改版本「<a target="_blank" rel="external nofollow noopener noreferrer" href="http://sky.candy.moe/tag/mactype/">糖果の無人小島</a>」，傻瓜版本，按照提示一路做下去就可以，经试验渲染全部成功，但是只能使用其设置的四种字体，并且 bat 文件是 big-5 编码的，需要复制出来用 word 进行繁简转换后复制回去，更改编码才可正常打开。最重要的是，<strong>卸载后字体会变成某个繁体字体，目前不知道恢复方法，所以该版本慎用。</strong></li>
</ol>
<h5 id="是否要用日本的-mactype-补丁？"><a href="#是否要用日本的-mactype-补丁？" class="headerlink" title="是否要用日本的 mactype 补丁？"></a>是否要用日本的 mactype 补丁？</h5><p>使用方法见  <a href="#%E5%85%B3%E4%BA%8E-1803-%E7%89%88%E6%9C%AC%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF">1803 正确操作姿势</a>。</p>
<p><strong>仍推荐使用。</strong>1607 出的时候，不仅 mactype 运行会有几率无法进入系统，而且无法渲染 runtime（例如 modern 类）应用，然后日本的一波开发者就出了相应的<a target="_blank" rel="external nofollow noopener noreferrer" href="https://silight.hatenablog.jp/entry/MacTypePatch">补丁</a>。<del>但是时过境迁，在目前的 1803 系统上，经过我实验新版的 mactype 已经可以正常渲染 runtime 应用了。但是原来的 mactype 还需要修复才能正常使用，需要把日本补丁里面的两个 easyhook.dll 放到 mactype 根目录内即可。</del></p>
<p><strong>（18.05.24 更新）</strong> 新版 mactype 无法完全渲染 modern 应用，请使用 2016 版。</p>
<p><strong>（20.1.11 更新）</strong> 后续版本，直装已支持渲染 modern 应用，但日本 mactype 补丁扔能有效抑制字体边缘锯齿，所以推荐使用。</p>
<h5 id="关于-runtime-应用（或者称为-modern-应用，类似于开始菜单，设置等）没有正确渲染-替换字体的问题"><a href="#关于-runtime-应用（或者称为-modern-应用，类似于开始菜单，设置等）没有正确渲染-替换字体的问题" class="headerlink" title="关于 runtime 应用（或者称为 modern 应用，类似于开始菜单，设置等）没有正确渲染 / 替换字体的问题"></a>关于 runtime 应用（或者称为 modern 应用，类似于开始菜单，设置等）没有正确渲染 / 替换字体的问题</h5><ol>
<li>上面说的，mactype 的补丁。</li>
<li>使用<a target="_blank" rel="external nofollow noopener noreferrer" href="http://tieba.baidu.com/p/4040192792?pn=3#95549377760l">脚本</a> hack + 硬替换字体 + mactype <del>（1803 失效）</del>（并不是失效，但是 hack 是解决高分屏下 directwrite 渲染毛刺的问题，而硬替换字体因为某些原因不能直接作用于 directwrite 渲染应用，需要配合 mactype，那还不如直接用 mactype）</li>
<li><del>硬替换字体+</del> 使用注册表加载。</li>
</ol>
<h5 id="关于字体"><a href="#关于字体" class="headerlink" title="关于字体"></a>关于字体</h5><ol>
<li><p>mactype 有其专用的 lof 字体替换集，其中就有安装说明，包括硬替换和热替换，说一下热替换（非使用 install.bat 自动安装）的安装方法：</p>
<ol>
<li>进入字体包，如果是第一次安装 lof 热替换字体，先安装三个 _XXX 开头的字体。</li>
<li>然后安装除了 simsun.ttc 以外的字体</li>
<li>打开 mactype 找到 hotswift 文件夹下相应的配置文件，开启即可</li>
</ol>
</li>
<li><p>其他有配置文件的热替换字体，只找到了思源黑体，确定可用。</p>
</li>
<li><p>苹方，非 hint 版的微软雅黑，18 秋季微软新字体有相应的硬替换包，苹方效果最不错。</p>
</li>
</ol>
<h5 id="关于配置文件（bug）"><a href="#关于配置文件（bug）" class="headerlink" title="关于配置文件（bug）"></a>关于配置文件（bug）</h5><p>如果原来配置文件发现字体渲染过重导致不清楚，可以降低粗细程度和增加对比度。但是！调整配置文件的时候注意调整完以后另存为，然后对比原来调整前的文件，把少了的东西加回进去！因为利用 gui 调整的话会少掉好多行替换字体的设置，会导致某些界面拥挤，以及某些软件字体无法正常替换变成很丑的宋体。</p>
<p>另外，目前有这么几样软件是不能进行替换的，需要排除：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">;拥挤到位置混乱</span><br><span class="line">;EarTrumpet.exe ;2004不再有问题</span><br><span class="line">OTOOLS.exe</span><br><span class="line">;乱码</span><br><span class="line">;fdm.exe ;2004不再有问题</span><br><span class="line">;拥挤，虚化</span><br><span class="line">GameOverlayUI.exe</span><br><span class="line">;无法打开 osd</span><br><span class="line">PotPlayerMini64.exe</span><br><span class="line">;无法进行字体替换</span><br><span class="line">ui32.exe</span><br><span class="line">;各类 java 系应用，比如 ideaitellij 等</span><br><span class="line">;许多游戏，开启 mactype 会导致性能问题，如战地 1</span><br></pre></td></tr></tbody></table></figure>

<p>加在配置文件中的应用，不会执行热替换但仍然会被渲染，所以也没丑到没法看的程度。</p>
<p>另外，慎重更改配置文件里面的优化方案相关项，可能会导致英文字符间隔变得诡异。</p>
<h5 id="白名单模式"><a href="#白名单模式" class="headerlink" title="白名单模式"></a>白名单模式</h5><p>其实 mactype 也可以使用白名单模式，对部分应用进行渲染，对系统的影响应该小很多。在字体配置文件（注意，是单独字体配置文件而不是总配置文件 mactype.ini）相应位置添加：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[General]</span><br><span class="line">UseInclude=1</span><br><span class="line">[IncludeModule]</span><br><span class="line">xxx.exe</span><br></pre></td></tr></tbody></table></figure>

<p>目前能遇到的，明确的用途：文明 5 的字体替换（默认字体瞎眼）。</p>
<h5 id="浏览器配置方案"><a href="#浏览器配置方案" class="headerlink" title="浏览器配置方案"></a>浏览器配置方案</h5><p>浏览器开启 directwrite 的场合，mactype 只会替换字体而不会渲染字体，可读性大幅下降。目前只有 centbrowser 一个浏览器能关 directwrite 了：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chrome://flags/#disable-direct-write</span><br></pre></td></tr></tbody></table></figure>

<p>但现在关闭后，还需要一些操作：</p>
<ol>
<li><p>修改字体，使用 stylish</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xxxxxxxxxx&nbsp;*{font-family:"字体名字";}</span><br></pre></td></tr></tbody></table></figure>

<p>注意字体名字不要搞错，必要时候进入 windows/fonts 目录下，选择相应字体，点击路径名栏即可复制。</p>
</li>
<li><p><strong>（18.6.20更新）</strong> 上面这种更换方法遇到繁体会乱码。需要配合插件。根据<a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.zhihu.com/question/20365811">Chrome 设置什么字体较好？</a>所说，直接安装<a target="_blank" rel="external nofollow noopener noreferrer" href="https://chrome.google.com/webstore/detail/no-per-script-font/lndmkajeoopejggihiomoaepinlhblmm">该拓展</a>实测有效。另外，chrome 的设置界面字体也会因为没有被正常替换变成宋体，有两种方法，一种是在内置的字体设置里面调整为热替换的字体（只需调整第一项），比如：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210111190225.png"></p>
<p><strong>副作用就是原来那些字体设置是“自定义”的，我也不知道系统默认那些是啥字体，但兼容性不错，调整后就没有办法调回自定义了</strong>；另一种就是使用<a target="_blank" rel="external nofollow noopener noreferrer" href="https://chrome.google.com/webstore/detail/advanced-font-settings/caclkomlalccbpcdllchkeecicepbmbm">插件</a>，那个插件会自动替代原来的原来的字体设置页面，要是发现不对卸掉那个插件就会还原设置了。</p>
</li>
</ol>
<p>chrome 中，苹方，微软雅黑，lof 热替换系列，思源都可以正常渲染（stylish 插件），但是冬青黑，大日本网屏，方正黑体渲染失败。</p>
<h5 id="其他已知-bug"><a href="#其他已知-bug" class="headerlink" title="其他已知 bug"></a>其他已知 bug</h5><p>贴吧中反应 1803 可能引起卡顿，进配置管理选择你现在所用的配置文件，关闭自动加载到子进程即可。</p>
<p>另外加载方式，如果用托盘加载就能成功生效，就不要使用注册表加载。 1803 使用服务加载会开不了机。理论上使用 mactype 托盘加载最为安全，但是某些时候 directwrite 渲染（modern 应用）会出错。</p>
<p>如果发现使用注册表加载或者服务加载进不了系统，在系统加载界面强制关机三次或者是用 pe bootice输入参数，进入安全模式更改加载方式即可。</p>
<p><strong>（21.1.10 更新）</strong>据 otools 频道的消息：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110054145.png"></p>
<h5 id="关于-1803-版本推荐使用姿势"><a href="#关于-1803-版本推荐使用姿势" class="headerlink" title="关于 1803 版本推荐使用姿势"></a>关于 1803 版本推荐使用姿势</h5><ol>
<li><p>使用该<a target="_blank" rel="external nofollow noopener noreferrer" href="http://tieba.baidu.com/p/5454251031">帖子</a>所使用方案</p>
<blockquote>
<p>安装流程：首先默认安装MT20160904，其次把CTP170307里面的文件覆盖到MT目录，最后按照MTP1.26里面的说明安装（不会看MTP里面英文/日文说明的请机翻或是寻求他人帮助，反正你跟帖问这个问题我也不会回复你）。</p>
</blockquote>
<p>安装 2016 版本后，打开 MT 根目录（一般是 <code>C:\Program Files\MacType</code>），**先放入官方补丁（6 个文件）再放入日本补丁（三个文件，<code>EasyHK32.dll</code> 和 <code>EasyHK64.dll</code>，和「win8 or later」这个文件夹中的 UserParams.ini），最后在 <code>C:/windows/system32</code> 放入 <code>EasyHK64.dll</code>，在 <code>C:/windows/syswow64</code> 中放入 <code>EasyHK32.dll</code>**。</p>
</li>
<li><p>安装热替换字体。</p>
</li>
<li><p>如果使用注册表加载，加载完即可使用。如果使用托盘加载，modern 应用可能不正常，需要硬替换微软雅黑字体，这里我选择用苹方字体进行替换。</p>
</li>
<li><p>chorme 禁用 directwrite（chrome://flags），否则只改字体不改渲染。如需要其他字体，可安装 stylish。</p>
</li>
<li><p><strong>（6 月 12 日更新）</strong> 热替换字体可能会导致很多应用字体拥挤，比如 bandzip，实测用硬替换即可解决。另外，尽管使用的是硬替换，但是还是需要使用热替换的配置才能正常显示替换的字体，原因未知。</p>
</li>
<li><p><strong>（19.2.28）</strong> 去年 mactype 飞雪 2000 的 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/snowie2000/mactype/releases">github</a> 推送了几个测试版，我试了一下，不用打补丁也能正常渲染 gdi 和 modern 了，但是效果太寒蝉了。。。一大堆锯齿，装回 2016 锯齿明显少了很多。另外 fdm 之类的应用仍然会乱码，应该是 XINTEL 字体的问题，和软件无关。</p>
</li>
</ol>
<h5 id="目前最新版-mactype-直装热替换注册表加载情况（19-9-22）"><a href="#目前最新版-mactype-直装热替换注册表加载情况（19-9-22）" class="headerlink" title="目前最新版 mactype 直装热替换注册表加载情况（19.9.22）"></a>目前最新版 mactype 直装热替换注册表加载情况（19.9.22）</h5><p>系统：win10 1903</p>
<p>生效：应用内，通知菜单</p>
<p>部分生效（字体未替换）：桌面，右键，资源管理器（需要开机后重新加载）</p>
<p>完全不生效：开始菜单，对话框，开机界面，任务管理器</p>
<p>生效异常：设置内（字体锯齿感人），java 系应用（乱码）</p>
<p>总之看起来的情况就是刚开机就开起来的应用新版 mactype 都没有办法替换。后面显示或弹出的就可以。</p>
<p>建议：不要使用全局热替换。可以用冷替换（冷替换只负责渲染） + hack 字体 + 应用内改字体（浏览器），坏处是游戏什么的就没法搞；或者配合 nomeiryo 伪装全局热替换（但没有字重）。真的要使用热替换请换用旧版或者部分应用热替换。另外，不要浏览器又改字体又开 directwrite，会变得很丑。。。</p>
<p><strong>（10.28 更新）</strong> bug 还是不少。。。windows 1903 下如果使用白名单最新版 19.1 会间歇性卡死，使用 18 最后一个版本没事。而全局冷替换或者不替换加渲染，在 chrome 下取消 directwrite 后字体间距会变得非常诡异（比如说<a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.hostloc.com/thread-450814-2-1.html">这个页面</a>，实际上热替换也会让字体间距变得很诡异，不过对象不同）；而热替换字体间距好不少，但效果其实也不理想，偶尔还会出现乱码（使用状态栏模式）。而且热替换下一定要确定浏览器正在使用的是微软黑体 + 宋体。另外浏览器的字体拓展使用后也对 mactype 没啥加成，总之都要在排版间隔错误 / 字体发虚中选一瓶毒药喝掉，emmm。。。</p>
<p>冷替换：<img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/oUQdOYv.png"></p>
<p>热替换：<img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/NM7g1Ve.png"></p>
<h5 id="21-1-11-2004-使用情况更新"><a href="#21-1-11-2004-使用情况更新" class="headerlink" title="21.1.11 2004 使用情况更新"></a>21.1.11 2004 使用情况更新</h5><ol>
<li><p>使用 1609 mactype + 双补丁，热替换 XINTEL，很神奇的许多应用都不再乱码了，比如 fdm，java 类应用（idea itellij 等）。但 java 类应用字体间隔出问题的故障还在。</p>
</li>
<li><p>19 年我大吐苦水的锯齿问题，打日本补丁可解。</p>
</li>
<li><p>最新版 + 日本补丁效果和 1609 + 双补丁效果差不多。</p>
<p>1609：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/vmware_clemYxzBiN.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/vmware_JrGV3MT10A.png"></p>
<p>2019.1-beta6：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/vmware_saVNp23Rij.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/vmware_irlLMnwdsZ.png"></p>
</li>
</ol>
<h4 id="非-mactype-方法"><a href="#非-mactype-方法" class="headerlink" title="非 mactype 方法"></a>非 mactype 方法</h4><h5 id="几种硬替换方法-（21-1-10-更新）"><a href="#几种硬替换方法-（21-1-10-更新）" class="headerlink" title="几种硬替换方法 （21.1.10 更新）"></a>几种硬替换方法 <strong>（21.1.10 更新）</strong></h5><p>注意：必须使用工具而不能双击打开直接安装。硬替换的字体直接安装的话，会安装到用户的相应目录而不是系统字体目录 <code>C:/windows/fonts</code> 中，导致字体只在 modern 应用中生效，比如：</p>
<p>替换前：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Windows%2010%20x64-2021-01-10-01-50-32.png"></p>
<p>替换后：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Windows%2010%20x64-2021-01-10-01-44-24.png"></p>
<p>当然有人会想到：那右键「为所有用户安装」呢？</p>
<p>那就会被重命名为 [ 字体名称-0.ttf ]，完全不生效。下面这几张图，就是我把新版微软雅黑在旧版雅黑存在的情况下重复安装和「为所有用户安装」后设置字体界面显示的效果：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110055129.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110055310.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110055347.png"></p>
<p>更要命的是，如果把宋体也这么安装，有可能会造成使用宋体 ui 界面的应用卡死打不开。所以别这么干，使用下面的方法。</p>
<p>另外替换前注意字体的名字，需要和 <code>C:/windows/fonts</code> 中需要替换的字体使用同样的文件名。</p>
<ol>
<li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.fishlee.net/soft/SysFontReplacer/">系统字体替换工具 - 鱼の后花园</a>。该软件替换前会自动备份相应字体，所以不用额外备份了。打开后将所有字体拖入，如果是未安装的字体会提示，那些字体可以直接安装；其他字体点击「开始执行任务」装入。这个软件替换少量字体时很好用，但如果替换字体数量一多，或者后台运行的程序比较多，就可能有字体替换失败，所以建议重启后再使用。</p>
</li>
<li><p>利用 windows 自带的 recovery 界面。先把字体文件夹起一个方便记忆的名字，放在 c 盘根目录中（方便敲命令）。另外在 <code>C:/windows/fonts</code> 中，找到并备份要替换的字体文件。在设置 -&gt; 更新与安全 -&gt; 恢复 -&gt; 高级启动，点击立即重新启动。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110072521.png"></p>
<ol start="3">
<li><p>接下来会看到 win10 启动菜单一样的界面，点疑难解答 -&gt; 高级选项 -&gt; 命令提示符。</p>
</li>
<li><p>然后选择账户，输入密码，进入 recovery 界面。其实这本质上也是 pe，所以此时的 c 盘是 pe 的盘符。你需要用 dir 命令找到原本系统 c 盘的盘符。一般来说，假设我的电脑有两个盘，那么进入 recovery mode 后，我原来的 c 盘在此时应该被设置为 e 盘。那么</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dir e：</span><br></pre></td></tr></tbody></table></figure>

<p>如果输出的文件看上去确实是 c 盘的文件，那么：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy e:/[字体文件夹]/* e:/windows/fonts/</span><br></pre></td></tr></tbody></table></figure>

<p>弹出替换提示。</p>
<p>按 A，替换完重启即可。</p>
</li>
</ol>
</li>
<li><p>使用 windows pe。基本步骤和 2 差不多，好处是不用敲命令，坏处是有个 u 盘。</p>
</li>
</ol>
<h5 id="通常用于替换的字体"><a href="#通常用于替换的字体" class="headerlink" title="通常用于替换的字体"></a>通常用于替换的字体</h5><p>目前 windows 1909 的微软雅黑版本为 light 字重 6.23，regular 和 bold 6.25。宋体新宋体版本为 5.16。</p>
<ol>
<li><p>2017 微软雅黑。版本号为 11.0.0。中文字型有点像更纱黑体。效果如图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110094113.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110093415.png"></p>
</li>
<li><p>新版微软雅黑 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/goldkeyber112/Noble-Scarlet-mod">Noble Scarlet</a> 带宋体。版本号全为 7.01。效果如图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110064943.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110065036.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210110065204.png"></p>
</li>
<li><p>GaspHack 处理过的字体，所有字体版本号不变。效果见下文。</p>
</li>
<li><p>mactype  包中的宋体。效果见下文。</p>
</li>
</ol>
<h5 id="关于-GaspHack-补丁使用方法和效果"><a href="#关于-GaspHack-补丁使用方法和效果" class="headerlink" title="关于 GaspHack 补丁使用方法和效果"></a>关于 GaspHack 补丁使用方法和效果</h5><p>解压后，运行 <code>GaspHack_v2_MOD.bat</code>。根据提示按下回车后，待程序运行完，在其运行目录下 <code>workingDir/output</code> 文件夹下放着处理过的字体；<code>workingDir/output</code> 放着处理过的字体处理前的备份。因为 GaspHack 对大部分非系统原生字体无效（<del>非系统原生字体本来就没有针对 windows 系统 hinted，自然不会生效</del>），所以，有三种替换方法：</p>
<ol>
<li>只替换微软雅黑。</li>
<li>替换需要替换的字体。</li>
<li>（推荐）替换所有<strong>原生</strong>字体（但不包括宋体）。</li>
</ol>
<p>如何选择？看测试效果：</p>
<p>测试平台：1903 预览版</p>
<p>使用前，字体毛刺较多：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/xMv3u8t.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/yAfx9w5.png"></p>
<p>使用后，字体边缘的毛刺和失真情况得到大大改善：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/fi5yG27.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/1fusTBl.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/LXWklcA.png"></p>
<p>对大部分应用有效，但是也有副作用：有的旧应用字体会变得扭曲（该文章里面用的字体硬替换软件就是其中一个，是宋体的原因，所以建议不要替换宋体）。</p>
<p>另外，windows 的两种新微软雅黑<strong>（17 版很像更纱黑体，但如果拿更纱黑体直接硬替换会炸，听说网上有成功案例，方法未知）</strong>，未 hack 前字体边缘表现就已经比较好了（不过感觉没有 hack 后好，锯齿比较大），hack 后反而感觉有些奇怪。。。</p>
<p>直接使用 17 新微软雅黑：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/AFy8MdB.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/QvAHerE.png"></p>
<p>hack 后：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/eqPKuTE.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/QE1PK4B.png"></p>
<p>如果只替换原版雅黑，并不替换其他字体：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/7scUUpC.png"></p>
<p>125% 大小下，不忽略 dpi 感觉没问题。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/traWPiH.png"></p>
<p>一忽略 dpi 就炸了，字体锯齿立即浮现出来（注意那个 finalspeed）。</p>
<p>如果是所有字体（除了 simsun.ttc）全部打补丁的话：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Kipnms9.png"></p>
<p>海星。</p>
<p><del>我查了一下，微软的默认英文字体是 segoui。然而我把带这串英文的字体全部打了补丁，发现没有用。估计可能还有另外的字体要打补丁，想想算了，全部打了得了（除了那两个宋体）。</del></p>
<p>如果要选择性替换需要替换的字体：目前已经确定需要 hack 替换的字体，除了微软雅黑，还有以下这些（并不全，仍待实验）：</p>
<ul>
<li><del>times.ttf</del> 和 arial.ttf，作用就是解决上面划掉内容的问题。</li>
<li>segoui.ttf，解决 windows 设置里面英文字体的锯齿问题。</li>
<li>consola.ttf，某些网站和 typora 的编程字体。</li>
</ul>
<p>只替换雅黑：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/JlWQTJ0.png"></p>
<p>替换后：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/rrUpaCN.png"></p>
<p>至于宋体，可以用 mactype 集成包里面热替换字体里面带有的 simsun.ttc 替换，效果看起来可以。（目前看起来效果变差的就只有网易云，用瞎眼宋体混合雅黑，替换了以后字体变得更虚了）。</p>
<p>替换前：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/Af3fxGI.png"></p>
<p>替换后：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/dS77IkI.png"></p>
<p>不过看起来问题还是不少。图省事仍然建议对系统默认的所有字体打上补丁并替换。</p>
<p><strong>如果是替换所有字体的，建议在刚刚重装的系统上就运行 GsapHack 给所有字体打好补丁备用，或者用虚拟机在全新安装的系统上打补丁后把打好补丁的字体提取出来。</strong>因为我现在并不知道 GsapHack 如何判断哪些字体需要打补丁，看代码只知道他忽略了那几个表情字体（如 weddings.ttf）。在安装了两款新字体，分别是 opposans 和 Cascadia 的电脑上运行本程序发现 Cascadia 并没有被提取出来，但 opposans 被提取出来并进行了处理（实际上这两个字体都不需要取消 hint）。目前看来只有原生系统中自带的除了宋体以外的字体需要 hack。</p>
<p>不过，有个问题避免不了，修复系统的 <code>sfc /scnanow</code> 命令会将替换的字体识别成系统错误，运行后需要重新替换字体。</p>
<h5 id="（21-2-4-更新）更纱黑体-nohinted-版"><a href="#（21-2-4-更新）更纱黑体-nohinted-版" class="headerlink" title="（21.2.4 更新）更纱黑体 nohinted 版"></a><strong>（21.2.4 更新）</strong>更纱黑体 nohinted 版</h5><p>之前我对更纱黑体用 GaspHack 发现没效果，于是得出了大部分第三方字体都不带 hinted 的推断。</p>
<p>结果这两天更纱更新了 nohinted 版，我试了一下，效果不错，看来只是 GaspHack 原理上的问题？</p>
<p>更纱原版：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/%E6%9B%B4%E7%BA%B1%E9%BB%91%E4%BD%93%E6%99%AE%E9%80%9A%E7%89%88.png"></p>
<p>更纱 nohinted 版：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/%E6%9B%B4%E7%BA%B1%E9%BB%91%E4%BD%93nohint.png"></p>
<p>文泉驿微米黑：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/%E6%96%B9%E6%AD%A3.png"></p>
<h5 id="关于浏览器字体更换"><a href="#关于浏览器字体更换" class="headerlink" title="关于浏览器字体更换"></a>关于浏览器字体更换</h5><p>先说结论：推荐 chrome（设置好字体） + 黑名单大佬方案 + stylebot，对付实在不行的顽固页面上白名单推荐。</p>
<h6 id="默认设置：chrome"><a href="#默认设置：chrome" class="headerlink" title="默认设置：chrome"></a>默认设置：chrome</h6><p><strong>测试正常：168 部分正常：2</strong></p>
<p>chrome 默认一共可以调整 4 个字形，默认 + Serif + Sans-serif + mono，一般我们习惯日用无衬线的黑体，所以默认和 san-serif 一般使用同样的微软雅黑。而 serif 就有很多种选择了，比如 hack 的宋体等等。而 mono 则选择编程字体，比如 consola。虽然本身默认写着自定义无法猜测本身是什么字体，估计默认和 san-serif 原本就是微软雅黑，而 mono 则是宋体，serif 就不知道了，可以考虑用方正的屏显雅宋简体<del>（我都不知道哪些网页会用衬线字体的）</del>（某些新闻网站，比如<a href="cn.reuters.com">路透中文网</a>，需要科学上网）。</p>
<p>同时 chrome 中也有名为 Advanced Font Settings 的拓展，功能便是指定相关语言编码的字体，比如中文，日语等，避免因为没有指定而自行 fallback 导致字体错误（有一种说法，chrome 默认设置中设置的字体实际上是英文字体，并没有对其他文字进行适配，但由于来源比较旧，所以我不做采信）。比如<a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.jianshu.com/p/10bf0f3ae792">该文章</a>，推荐使用 Verdana 做默认 + 无衬线的字体，Georgia 做衬线字体，前者微软自带，后者需要安装。不过从效果上看，看不出什么来（并且有些网页将字体写死在 css 中的，就没有用，比如百度百科，强制等线，难看的要命），并且如果使用该拓展汉语系的字体默认就会全部设置为宋体，如果没有耐心慢慢调校，不如不用这个拓展。</p>
<p>另外，还有一点比较有意思的：浏览器默认设置的原理，似乎是——在浏览器内有一个名单，定义了哪几种字体属于衬线，哪几种属于无衬线，哪几种属于等宽。然后再去替换相应的字体。为什么这么说呢，因为浏览器设置配合后面的 css 替换，在某些情况先会产生比较微妙的改变——比如下面 css 强制替换中的「全局修改字体」脚本，使用后会把页面中的所有英文字体变为等宽字体（consola），而后又被浏览器替换成设置好的等宽字体（比如等距更纱黑体）。</p>
<h6 id="默认设置：firefox"><a href="#默认设置：firefox" class="headerlink" title="默认设置：firefox"></a>默认设置：firefox</h6><p>**（强制模式）测试正常：134578 部分正常：2 **</p>
<p>firefox 乍一看比 chrome 要灵活多了。可以根据多种语言选择字体（即刚刚上面说的那个 chrome 插件的功能），亦多了一个「允许页面选择自己的字体代替您的上述选择」，其实就是接下来的这个「强制替换」功能的削弱版（上面的强制模式指的就是这个东西）。底下还有个「老式编码回退」的功能，这我就不知道是做什么用的了。很丰富吧！但其实有些问题比 chrome 严重多了。</p>
<p>同样是四种字体，比例字体，衬线字体，无衬线字体，等宽字体。对应 chrome 的默认 + Serif + Sans-serif + mono，而且和 chrome 相比，标出了默认字体是什么，不用我去猜了。不过这里就出现第一个问题了：比例字体里面只能选衬线字体 / 无衬线字体，而不是像 chrome 里面任选。想想也可以理解，一般默认字体和无衬线那个应该是相同的。<del>不过在其后出现的一个问题我怀疑就和这里有关。</del></p>
<p>不过优点也是有。除了 6 没有白名单通不过和 2 没有抗锯齿不好看以外，其他测试都通过了，甚至 5 百度百科里面底部那几个带图片的页面里面的字体都更改成功了（下面其他修改方法中，成功率很低）。</p>
<p>接下来列出问题：</p>
<ol>
<li>锯齿不能忍。 firefox 界面的锯齿肉眼可见的多，特别是测试 2 的页面。甚至连切换标签页都能明显的感到锯齿在变动。firefox 旧版曾经有一个插件叫做  <a target="_blank" rel="external nofollow noopener noreferrer" href="https://addons.mozilla.org/zh-tw/firefox/addon/anti-aliasing-tuner/">Anti-Aliasing Tuner</a>，然而 57 版本后已不可用。</li>
<li><del>等宽字体的中文回退。出现在知乎的代码块中，虽然 chrome 中代码块的回退也不正常，但 consola 的回退起码到了能看的微软雅黑上，而 firefox 代码块中的中文明显是丑的不行的宋体。</del>（莫名其妙变得非常正常）</li>
<li>「允许页面选择自己的字体代替您的上述选择」功能不允许设置白名单。某些页面的图标和 emoji 就会出现错误显示的问题。</li>
<li><del>metacritic 简介栏原来巨丑无比的字体正常了，可是评论区又不太正常了。</del>（方正屏显雅宋全锅）</li>
</ol>
<h6 id="css-强制替换（白名单）"><a href="#css-强制替换（白名单）" class="headerlink" title="css 强制替换（白名单）"></a>css 强制替换（白名单）</h6><p><strong>（开启了特殊符号白名单并使用了 important 标志）测试成功：4567 部分正常：2</strong></p>
<p>默认设置其实有一个比较严重的问题：适应性较差。很多时候网页通过 css 规定了字体，如果提前规定字体的话 chrome 是不会进行替换的，偏偏有些网站爱用宋体或者其他对较低分辨率不友好的字体，看起来就很丑了。所以通过 css 规则对页面中所有字体进行替换就能达到相应效果。不过！正因为是全局替换，所以要解决两个问题</p>
<ul>
<li>浏览器一共分成三种字体，于是现在对这三种字体分边进行替换？</li>
<li>那些个带有特殊符号的界面，替换后就会变成文字导致乱码布局错误。</li>
</ul>
<p>firefox 倒霉就到在第二点上，导致图标替换错乱又没有白名单去回避这些页面的替换。而使用 chrome 插件的方法可以有效的控制某些网页不使用插件替换，实现白名单功能。</p>
<p>至于为什么叫做白名单法，因为刚开始的替换范围就是 *（整个网页），然后再通过排除或者限制的方法来框定生效范围。</p>
<p><strong>不过也有弊端，css 设置字体的方法是 fallback——即从字体列表的第一个开始，找不到再去找下一个，如果到最后一个字形都找不到对应的编码就会显示方块。但如果第一个字体比较全，就会只显示第一个字体。所以这种方法下等宽字体和衬线字体都无法正确得到匹配，或者只能把英文字体全部识别为等宽字体这种损敌八百自损一千的方法。</strong></p>
<p>具体实现方法有这些：</p>
<ul>
<li><p>chrome / firefox 插件。比较简单，但功能也简陋，不太推荐。我只用过 chrome 相关的，推荐一个，可以配合 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://chrome.google.com/webstore/detail/nooboss/aajodjghehmlpahhboidcpfjcncmcklf">Nooboss</a> 实现白名单功能。</p>
<ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://chrome.google.com/webstore/detail/force-custom-fonts/hckjchjpkmbihoocajjpjajkggbccgee?utm_source=chrome-ntp-icon">强制网页使用自定义字体</a>。虽然其中带了黑名单里面的字体替换功能，但我实验了一下好像没用。</li>
</ul>
</li>
<li><p>stylus 等 css 网页修改工具。可通过代码对页面进行定制。通过 css 代码，本身就带有排除某一些网站 / 字体的功能。</p>
<ul>
<li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://userstyles.org/styles/169348/change-double-font">全局修改字体(中英文双字体修改)全局修改字體(中英文雙字體修改)Change Double font</a>。这个插件在开头定义了排除的字体，所以并不需要手工排除带有特殊符号图标的网页。</p>
</li>
<li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://userstyles.org/styles/173673/pure">Pure 百度 - 搜索/文库/知道/网盘/百科/经验/翻译/地图/学术/视频/糯米/智能云/安全</a>。定义了范围，只对宋体问题比较大的百度系网页进行替换。</p>
</li>
<li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://userstyles.org/styles/100473/004-forcemyfonts-chinese-firefoxchromeie-catcat520">004.ForceMyFonts.Chinese.FireFoxChromeIE.catcat520</a>。定义范围更大，但问题更多。</p>
</li>
</ul>
</li>
<li><p>手动定制（原理）。<a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.vixual.net/blog/archives/253">参考文章</a>。定制的原代码类似是这样：</p>
  <figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*{ </span><br><span class="line">    font-family: 'Monaco', "Microsoft Jhenghei" !important;   /*字體設置,可分別設置中英文,前面英文字體,後面中文字體,!important 即强制替换*/</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>直接这么写的话，图标符号就炸掉了。有两种解决方法：最后结尾的 <code>!important</code> 不去写。css 的特性决定了结算不加 <code>!important</code> 能替换的字体也比浏览器要多。但仍然会有很多字体得不到替换，可以说是一种比较保守的方案。</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*{ font-family: Arial, "KaiGen Gothic TW", "Noto Sans CJK TC", "Microsoft YaHei", "Microsoft JhengHei";}</span><br></pre></td></tr></tbody></table></figure>

<p>第二种方案就是指定不渲染的字体（推荐），这就是我现在用的白名单方案了（更纱黑体本身自带的英文已经可以了）。</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*:not([class*="icon"]):not([class*="button"]):not([class*=mjx]):not([class*=fa]):not(i){ </span><br><span class="line">    font-family: "更纱黑体 SC", "Microsoft YaHei", "Microsoft JhengHei"!important;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>


</li>
</ul>
<h6 id="css-字体替换（黑名单）"><a href="#css-字体替换（黑名单）" class="headerlink" title="css 字体替换（黑名单）"></a>css 字体替换（黑名单）</h6><p><strong>（大佬方案）正常：1345678 部分正常：2</strong></p>
<p>顾名思义，只对相应的字体 / 网页部分展开替换。问题在于名单里要写哪些字体？范围其实相当大，因为像雅黑一类的字体，就有英文中文两种形式（英文叫 Microsoft Yahei，中文叫微软雅黑），需要同时做替换；而只有中文没有中文形式的（比如等宽更纱黑体），就会擅自回退到无法控制的字体上去（更纱黑体会回退到 Luicida 上），还有些网站经过我的尝试，无效（metacritic）。不过只要名单够大，效果还是可以的。另外，有人会说黑白名单搭配着用可以么？大部分情况下不行，会先经过白名单处理再经过黑名单处理，自己想想看，基本没用。另外，查看当前字体和字体回退列表，推荐使用这个插件：<a target="_blank" rel="external nofollow noopener noreferrer" href="https://chrome.google.com/webstore/detail/font-finder/bhiichidigehdgphoambhjbekalahgha">font finder</a>。</p>
<ul>
<li><p>chrome 插件</p>
<ul>
<li><p><a href="%5Bhttps://chrome.google.com/webstore/detail/%E6%9B%BF%E6%8D%A2%E5%AD%97%E4%BD%93%E7%9A%84%E4%B8%AD%E6%96%87%E9%83%A8%E5%88%86%E4%B8%BA%E9%9B%85%E9%BB%91/enpkigfhoabjjjonanmddidnnahopmcn?utm_source=chrome-ntp-icon%5D(https://chrome.google.com/webstore/detail/%E6%9B%BF%E6%8D%A2%E5%AD%97%E4%BD%93%E7%9A%84%E4%B8%AD%E6%96%87%E9%83%A8%E5%88%86%E4%B8%BA%E9%9B%85%E9%BB%91/enpkigfhoabjjjonanmddidnnahopmcn?utm_source=chrome-ntp-icon)">替换字体的中文部分为雅黑</a>。但只能换成雅黑，也只能换中文，不能改成其他的。只能说少做少错。</p>
</li>
<li><p>stylebot（<a target="_blank" rel="external nofollow noopener noreferrer" href="https://chrome.google.com/webstore/detail/lkcdgdbfbbnpnljlalmcjnepgjnmgigh">stylebot lite</a>）。这边是对网页相同段落 / 格式替换的插件。其实它的本职有一部分和 stylus 是相同的，也是 css 脚本替换。不过它本身的脚本商店貌似已经关闭连不上了，而且光说脚本他的编辑器易用性比 stylus 要差一大截，作者貌似也清楚所以就另外上架了一个 stylebot lite，原版已经停更了，剔除了商店的功能。和 stylus 的瞬间起停不一样，安装后需要对已打开的网页重新刷新才能生效，生效时插件图标变蓝，点开菜单后选第一个就会弹出一个侧边栏，通过侧边栏选择相应的网页块就能定制了。</p>
<p>不过本身能更换的字体就那几个默认的英文字体（不过其中的 moonspace 好像就是浏览器自选的等宽字体），不过点选了相应的段落块以后，可以转到 css 界面，会发现其实就是吧白名单里面的 * 换成了段落标签的名字而已，回退什么的完全可以手工配置。不过段落要手工选，回退也要手工粘贴，工作量相当大，不太推荐所有网页都用这种方法。</p>
</li>
</ul>
</li>
<li><p>stylus </p>
<ul>
<li><p>手动修改（原理）。</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@font-face {</span><br><span class="line">    font-family: '微软雅黑';</span><br><span class="line">    src: local('更纱黑体 SC');</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://userstyles.org/styles/115780/consolas-2">全网字体替换 | 微软雅黑、Consolas | 版本2</a>。效果相当好的方案。这是成品，而且中文定死微软雅黑，如果不想用其他字体的话的话用这个就好了。</p>
</li>
<li><p>（推荐）<a target="_blank" rel="external nofollow noopener noreferrer" href="https://gist.github.com/blackgear/d6981d468d6c3191593b">I hate ugly font</a>。上一个方案的原理。大佬方案！一些使用细节可以看大佬在 v2ex 上的足迹：<a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.v2ex.com/t/201393">Stylish：写了个全网替换字体为微软雅黑/Consolas 的 CSS，浑身舒畅</a>。使用方法是下载源码，然后修改这三行：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CJKFONT  = 'PingFang SC'</span><br><span class="line">ENGFONT  = 'Helvetica Neue'</span><br><span class="line">MONOFONT = 'Essential PragmataPro'</span><br></pre></td></tr></tbody></table></figure>

<p>分别对应中文 / 英文 / 等宽字体。上面这个方案适合 mac 使用，因为实测英文字体明显和苹方是统一风格的。我是修改成了更纱黑体 SC / Segeo UI / CascadiaCode Nerd Font。然后编译。需要安装 nodejs 并用 nodejs 安装 stylus 模块，最后使用代码</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stylus userstyle.styl -c</span><br></pre></td></tr></tbody></table></figure>

<p>就可以得到 css 文件了。说是编译。。。其实我感觉就是复制粘贴，把上面那三行的内容一个个套进去。原理似乎是——通过 utf-8 编码号检测文字究竟是是不是该替换，如果该就看看原字形属于那种，替换成三种字形中的相应字形，不该就维持原字形。至于还有一种衬线字形，并不需要担心，一般衬线都会跟着浏览器走，浏览器设置好了这个 css 脚本并不会把衬线改掉。总体来说和浏览器方案很像但和浏览器的字体修改范围有一定互补。对于仍然搞不定的部分（一般是等宽字体的代码部分），可以配合 stylebot 彻底搞定。当然也有一些可以变通的地方：</p>
<ul>
<li><p>如果按上面设置，想要再次修改其中的普通 / 等宽字体不用再次编译，直接 ctrl+h 替换就好。不过英文字体不同，因为使用了有被替换的英文字体，所以在某些行里面不能被替换。所以如果安装了其他非衬线英文字体（<del>比如 Verdana</del>那个也是系统自带的，观察一下 css 文件会发现系统自带的不做替换），编译的时候就可以用那个字体而不用 segeo ui。或者通过底下最后一个方法做替换。</p>
</li>
<li><p>开头和结尾还多出两个代码块，一个是代表普通文字，一个代表代码块，可以在里面添加阴影和回退参数。有时候设置的中文字体没有带英文的回退，那就需要在第一个代码块里面配置英文字体回退。第二个代码块中中文必须写在等宽字体后面，鉴于更纱黑体在代码块中中文表现力一般，可以换成微软雅黑。另外第二个代码块实际上是利用了样式表里面命名为 code 和 pre 的段落一般为代码块的特点，但实际上 pre 有时也不是代码块（比如少数派的评论区），所以可以把 pre 去掉只留 code。</p>
</li>
<li><p>第一个代码块中的回退的英文字体可以用衬线也可以用非衬线。用非衬线比较美观，但衬线在某些情况下可以防诈骗链接（比如下面的测试页面中 v2ex 那个），或者维持更纱黑体，其本身拥有辨别大写 i 和小写 l 的能力。</p>
</li>
<li><p>英文方案我选择了 Segeo UI，对于已经 hack 过字体的低分辨率屏幕 / 高分辨率屏幕来说效果不错，但没有 hack 过的效果就堪忧，而且上面我曾经说过「观察一下 css 文件会发现系统自带的不做替换」，系统自带的字体都有这个问题，所以可以考虑把这些统统换了，换成自己装的本就无 hint 的字体，我懒得找了于是直接用了带英文字体的更纱黑体 sc 去替换。</p>
<p>需要装一个支持正则表达式的文本编辑器（vscode 除外，这玩意的正则有问题，尽管听说修过，但用在这里仍然有问题）</p>
<p>然后通过以下方法替换</p>
<p>查找：<code>(unicode-range: U\+0000-2E7F;\r\n.*src: local\()((?!'CascadiaCode Nerd Font').)+(\))</code></p>
<p>替换：<code>\1'更纱黑体 SC'\3</code></p>
<p>另外前面说的，如果用了 Segeo UI 等系统自带字体后想要替换，也可以通过修改上面的查找代码，只要在回溯引用的断言部分（上面这部分里面是当前我用的等宽字体），添加现在用的中文字体即可。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="css-对字体的其他美化方案"><a href="#css-对字体的其他美化方案" class="headerlink" title="css 对字体的其他美化方案"></a>css 对字体的其他美化方案</h6><p>css 代码还可以对字体阴影进行定制：</p>
  <figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">text-shadow: #666666 0.01em 0.01em 0.05em !important;  /*分别是阴影颜色，x 偏移，y 偏移，阴影浓密程度*/</span><br></pre></td></tr></tbody></table></figure>

<p>还有就是颜色和字重：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/*font-weight: 500!important; /*字體粗細,整百數字*/</span><br><span class="line">/*color: #4d66fdab !important;    /*更改字體顏色及透明度(注意:這是全局修改),如無需要,可直接注釋掉整行代碼.*/</span><br></pre></td></tr></tbody></table></figure>

<p>还有抗锯齿：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-webkit-font-smoothing: subpixel-antialiased !important;</span><br></pre></td></tr></tbody></table></figure>

<h6 id="测试页面汇总"><a href="#测试页面汇总" class="headerlink" title="测试页面汇总"></a>测试页面汇总</h6><ol>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://cn.reuters.com/">路透中文网</a>：测试衬线（Serif）字体是否生效</li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.zhihu.com/question/266846566">知乎带代码块的页面</a>，测试其中的中文是否正确回退</li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.vixual.net/blog/archives/253">英文强制设置为 consola 字体的页面</a>，主要测试黑名单生效是否正常</li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.metacritic.com/game/playstation-4/sid-meiers-civilization-vi">metacritic 游戏介绍界面</a>，查看低分辨率下不友好字体是否替换正常</li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://baike.baidu.com/item/%E6%A8%AA%E5%BA%97%E5%BD%B1%E8%A7%86%E5%9F%8E/637138?fr=aladdin">百度百科</a>，默认全局宋体。</li>
<li>filebrowser 和 oneindex，带图标的页面。</li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.v2ex.com/t/623737#reply9">注意其中的 paypal</a>。查看网址中的大写 i 和小写 L 能不能被准确辨认。</li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://linux.cn/article-11614-1.html">linux 中国文章</a>。其中的等宽代码。</li>
<li></li>
</ol>
<h6 id="个人字体点评（windows-chrome-下结论）"><a href="#个人字体点评（windows-chrome-下结论）" class="headerlink" title="个人字体点评（windows chrome 下结论）"></a>个人字体点评（windows chrome 下结论）</h6><ul>
<li>更纱黑体：自带英文，大写 i 和小写 l 自带区分，使用范围最广。但是字形一般般，小分辨率下<del>字体锯齿感比较强</del>（请使用 nohinted 版），在 cmd 下使用感觉很扁。</li>
<li>微软雅黑：通用字形，其实效果不错，当然功能没有更纱黑体那么多。</li>
<li>思源柔黑：不错。像圆体和黑体的结合。 </li>
<li>阿里巴巴普惠体：在 windows 上使用有字重问题（粗），有点像正圆体。</li>
<li>方正文泉：directwrite 浏览器下效果不佳</li>
<li>ADAM.CG PRO：英文字体。直 来 直 去 全 部 大 写</li>
<li>Verdana：漂亮的 sans-serif</li>
<li>georgia：漂亮的 serif</li>
</ul>
<h5 id="（21-3-9）一些未解之谜"><a href="#（21-3-9）一些未解之谜" class="headerlink" title="（21.3.9）一些未解之谜"></a><strong>（21.3.9）</strong>一些未解之谜</h5><p>125% 缩放下，让浏览器不跟随系统进行缩放（缩放以后感觉太大了）。大部分网页上面这些方法都能处理得七七八八了，除了<a target="_blank" rel="external nofollow noopener noreferrer" href="https://mp.weixin.qq.com/s/AP2P1MTGJpvlq8q8SeMT2w">某些微信网页</a>：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210309031345.png"></p>
<p>瞎眼！</p>
<p>如果设置为跟随系统进行缩放 or 增大到 150%，表现趋于正常：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zbpicture/picture@main/img/20210309031557.png"></p>
<h4 id="目前我的方案"><a href="#目前我的方案" class="headerlink" title="目前我的方案"></a>目前我的方案</h4><h5 id="2020"><a href="#2020" class="headerlink" title="2020"></a>2020</h5><p>硬替换 GaspHack 过的全部系统默认字体 + 浏览器设置好字体 + stylus 黑名单 + stylus 白名单。</p>
<p>因为 mactype 出问题太频繁，渲染出错时字体间隔有问题接受不了。还得频繁更新排除名单。</p>
<p>但仅使用硬替换，上面的浏览器字体修改方案还有很多不成熟的地方，导致不用白名单有些字体替换不来，<del>用白名单好多图标会错位。只能开着白名单的情况下给白名单设置排除网站了。</del></p>
<h5 id="2021"><a href="#2021" class="headerlink" title="2021"></a>2021</h5><p>改为给白名单方案设置生效域。目前有这些：</p>
<ul>
<li>baidu.com</li>
<li>weixin.qq.com</li>
<li>zh.wikipedia.org</li>
</ul>
<h2 id="关于国旗-emoji"><a href="#关于国旗-emoji" class="headerlink" title="关于国旗 emoji"></a>关于国旗 emoji</h2><p>windows 下国旗 emoji 不会被正常显示出来，原因详见：<a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.zhihu.com/topic/19552612">为何 Windows 10 迟迟不更新国旗绘文字（Emoji）？</a></p>
<p>无法完美解决，通过 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/eosrei/emojione-color-font">eosrei/emojione-color-font Archived</a> 或者 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/eosrei/twemoji-color-font">eosrei/twemoji-color-font</a> 两个项目（前者已废弃，后者是前者的后继，但下面的第两种方案，在 windows 下只有前者有效），都使用下面两种方案：</p>
<ol>
<li><p>直接安装。下载 release 里面不带 win 的那个压缩文件。里面有个字体，安装即可。安装后，chrome 下 emoji 能够显示国家符号但全部变成黑白。firefox 下一切正常。</p>
</li>
<li><p>下载带 win 的 release。提前安装好 python3，并通过 pip 安装 fonttools</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install fonttools</span><br></pre></td></tr></tbody></table></figure>

<p>安装后确保 <code>ttx</code> 和 <code>pyftmerge</code> 可用（一些情况下 python 模块的目录并没有添加到 path 中，比如通过微软商店安装的 python，可以通过 everything 等搜索手段搜索到 ttx 所在的目录，导航到目录中的 <code>pythonXX</code> 和 <code>pythonXX/Scripts</code> 文件夹「其中 XX 为版本号」）。</p>
<p>然后解压 release 运行其中的 <code>install.bat</code>。如果一切正常会引导你安装两个字体。安装后，chrome 的 emoji 不会变成黑白，而 firefox 会获得国旗 emoji。但 ie 的 emoji 又会变得混乱了。。。（不过 ie 应该没有多少人会用了）</p>
</li>
</ol>
<p>如果要测试安装后是否生效，可以通过以下几个网站：</p>
<ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://pixelambacht.nl/chromacheck/">ChromaCheck</a>（测试浏览器支持的字体标准，一般来说，chrome 会不支持第三个，而 firefox 不支持第一个第四个）</li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://eosrei.github.io/emojione-color-font/full-demo.html">Color Unicode emoji supported by the EmojiOne Color SVG-in-OpenType font.</a>（上面两个项目的作者制作的测试 emoji 的网站）</li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.fuhaozi.com/emoji/guojia.html">旗帜&amp;国家类emoji表情大全</a></li>
</ul>
<p>但不管怎么说，大部分人主用 chrome 和 chromium 类浏览器，所以这个问题基本是无解的（显然微软和 chrome 狼狈为奸）。。。除非你能忍受黑白 emoji 图标。</p>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>zbttl
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://zbttl-github-io.vercel.app/ge-ping-tai-zi-ti-mei-hua-zhi-nan/" title="各平台字体美化指南">https://zbttl-github-io.vercel.app/ge-ping-tai-zi-ti-mei-hua-zhi-nan/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="followme">
  <span>欢迎关注我的其它发布渠道</span>

  <div class="social-list">

      <div class="social-item">
        <a target="_blank" class="social-link" href="/atom.xml">
          <span class="icon">
            <i class="fa fa-rss"></i>
          </span>

          <span class="label">RSS</span>
        </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/fonts/" rel="tag"># fonts</a>
              <a href="/tags/chrome/" rel="tag"># chrome</a>
              <a href="/tags/firefox/" rel="tag"># firefox</a>
              <a href="/tags/mactype/" rel="tag"># mactype</a>
          </div>

        
  <div class="post-widgets">
    <div class="wp_rating">
      <div id="wpac-rating"></div>
    </div>
  </div>

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/ge-lei-gapps/" rel="prev" title="各类 gapps">
                  <i class="fa fa-chevron-left"></i> 各类 gapps
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/yi-bu-dao-wei-de-vps-cong-ru-men-dao-fang-qi/" rel="next" title="一步到位的 vps 从入门到放弃">
                  一步到位的 vps 从入门到放弃 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zbttl</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">376k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">11:24</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">本博客使用 <a href="https://hexo.io/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a> 
  </div><script color="120,120,120" opacity="0.5" zindex="-1" count="150" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>
<!--《添加网站运行时间 -->
<!--<br/>-->
<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date();

    function createtime() {
        var grt = new Date("12/18/2020 12:00:00"); //此处修改你的建站时间或者网站上线时间 
        now.setTime(now.getTime() + 250);
        days = (now - grt) / 1000 / 60 / 60 / 24;
        dnum = Math.floor(days);
        hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum);
        hnum = Math.floor(hours);
        if (String(hnum).length == 1) {
            hnum = "0" + hnum;
        }
        minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes);
        if (String(mnum).length == 1) {
            mnum = "0" + mnum;
        }
        seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds);
        if (String(snum).length == 1) {
            snum = "0" + snum;
        }
        document.getElementById("timeDate").innerHTML = " 本站已安全运行 " + dnum + " 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
    setInterval("createtime()", 250);
</script>
<!-- 添加网站运行时间》 -->

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  
  <script>
  if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id    : 28813,
      el    : 'wpac-rating',
      color : '#fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }
  </script>
<script src="/js/local-search.js"></script>






  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1.7.0/dist/gitalk.css">

<script>
NexT.utils.loadComments('#gitalk-container', () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1.7.0/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'd99d750bdfdb31ecf37e',
      clientSecret: '1d37215aff71dc84b66e03cb412c7e68b968d76f',
      repo        : 'zbttl-comment',
      owner       : 'zbpicture',
      admin       : ['zbpicture'],
      id          : '7282737c9f54137758371ab128ac5ae9',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

<script type="text/javascript" src=" https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  <script async src="/js/cursor/text.js"></script>




</body>
</html>
